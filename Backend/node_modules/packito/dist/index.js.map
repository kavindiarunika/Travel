{"version":3,"file":"index.js","sources":["../src/utils/package.js","../src/utils/spawn.js","../src/Packito.js","../src/cli.js","../src/index.js"],"sourcesContent":["/**\n * Copyright (c) 2019-present, Mik BRY\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport pkg from '../../package.json';\n\nexport const getPackageDependencyVersion = (name, ref) => {\n  let v = ref;\n  if (pkg.dependencies[name]) {\n    v = pkg.dependencies[name];\n  }\n  if (v && (v[0] < '0' || v[0] > '9')) {\n    v = v.substring(1);\n  }\n  return v;\n};\n\nexport const getPackage = () => pkg;\n","/**\n * Copyright (c) 2019-present, Mik BRY\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport { spawn } from 'child_process';\n\nconst aspawn = async (exe, args, opts, con = console) =>\n  new Promise((resolve, reject) => {\n    const proc = spawn(exe, args, opts);\n\n    proc.stdout.on('data', buf => con.log(buf.toString()));\n    proc.stderr.on('data', buf => con.error(buf.toString()));\n\n    proc.on('error', reject);\n    proc.on('close', code => {\n      resolve({\n        code,\n      });\n    });\n  });\n\nexport default aspawn;\n","/**\n * Copyright (c) Mik BRY\n * mik@miklabs.com\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport fs from 'fs';\nimport path from 'path';\nimport spawn from './utils/spawn';\n\nconst fsp = fs.promises;\n\nexport default class Packito {\n  constructor(outputDir, noPublish, publisherArguments) {\n    this.outputDir = outputDir;\n    this.noPublish = noPublish;\n    this.publisherArguments = publisherArguments;\n  }\n\n  async readJSONFile(fileName, dir = './') {\n    const f = path.join(dir, fileName);\n    let filehandle = null;\n    let result = null;\n    try {\n      filehandle = await fsp.open(f, 'r');\n      const raw = await filehandle.readFile();\n      result = JSON.parse(raw);\n    } catch (error) {\n      this.error = error;\n    } finally {\n      if (filehandle) {\n        await filehandle.close();\n      }\n    }\n    return result;\n  }\n\n  async readOptions(optionsFile = '.packito.json', dir = './') {\n    let options = await this.readJSONFile(optionsFile, dir);\n    if (!options) {\n      // Default options\n      options = {\n        remove: {\n          devDependencies: '*',\n          script: '*',\n        },\n        copy: ['README.md', 'LICENSE'],\n      };\n    }\n    this.options = options;\n    return options;\n  }\n\n  async transform(_pkg, _options) {\n    const pkg = _pkg || (await this.readJSONFile('package.json'));\n    const options = _options || (await this.readOptions());\n    const { remove, replace } = options;\n    if (typeof remove === 'object') {\n      Object.keys(remove).forEach(e => {\n        if (remove[e] || remove[e] === '*') {\n          delete pkg[e];\n        }\n      });\n    }\n    if (typeof replace === 'object') {\n      Object.keys(replace).forEach(e => {\n        if (replace[e]) {\n          pkg[e] = replace[e];\n        }\n      });\n    }\n    if (typeof options.publisher === 'object') {\n      this.publisher = options.publisher;\n    } else if (typeof options.publisher === 'string') {\n      this.publisher = { name: options.publisher };\n    }\n    this.pkg = pkg;\n    this.data = JSON.stringify(this.pkg, null, '\\t');\n    // TODO handle publisher\n    return this.pkg;\n  }\n\n  async copyRecursive(file, outputDir) {\n    try {\n      await fsp.copyFile(file, path.join(outputDir, path.basename(file)));\n    } catch (error) {\n      if (error.code === 'EISDIR') {\n        const files = await fsp.readdir(file);\n        await Promise.all(files.map(f => this.copyRecursive(path.join(file, f), path.join(outputDir, file))));\n      }\n    }\n  }\n\n  async write(packageFile = 'package.json') {\n    let filehandle = null;\n    let outputDir = this.options ? this.options.output : undefined;\n    if (!outputDir) {\n      ({ outputDir } = this);\n    }\n    try {\n      await fsp.mkdir(outputDir, { recursive: true });\n    } catch (error) {\n      //\n    }\n    try {\n      const f = path.join(outputDir, packageFile);\n      // TODO test if outputDir exist\n      filehandle = await fsp.open(f, 'w');\n      await filehandle.writeFile(this.data);\n    } catch (error) {\n      this.error = error;\n    } finally {\n      if (filehandle) {\n        await filehandle.close();\n      }\n    }\n    if (this.options && Array.isArray(this.options.copy)) {\n      await Promise.all(this.options.copy.map(e => this.copyRecursive(e, outputDir)));\n    }\n  }\n\n  async publish(con) {\n    if (!this.noPublish && (this.publisher || this.publisherArguments)) {\n      let [exe, ...args] = this.publisherArguments || [];\n      if (!exe) {\n        [exe, ...args] = this.publisher.name.split(' ');\n      }\n      return spawn(exe, args, undefined, con);\n    }\n    return { code: -1 };\n  }\n}\n","/**\n * Copyright (c) 2019-present, Mik BRY\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport chalk from 'chalk';\nimport emoji from 'node-emoji';\nimport minimist from 'minimist';\nimport { getPackage } from './utils/package';\nimport Packito from './Packito';\n\nclass PackitoCli {\n  constructor(args, output, exit) {\n    this.output = output;\n    this.args = args;\n    this.exit = exit;\n    this.chalk = chalk;\n    this.options = {\n      string: ['dist'],\n      boolean: ['nopublish', 'help'],\n      stopEarly: true,\n      alias: {\n        d: 'dist',\n        n: 'nopublish',\n        h: 'help',\n      },\n      default: {\n        dist: './dist',\n        nopublish: false,\n        help: false,\n      },\n    };\n  }\n\n  log(text, ...opts) {\n    this.output.log(text, ...opts);\n  }\n\n  error(text, ...opts) {\n    this.output.error(text, ...opts);\n  }\n\n  header() {\n    const { version } = getPackage();\n    this.log(chalk.bold(emoji.emojify(`Packito cleans package before publishing v${version}`)));\n  }\n\n  usage() {\n    this.log('Usage: $ packito [options] [bin-to-publisher]');\n  }\n\n  help() {\n    this.usage();\n    this.log('');\n    this.log('Displays help informations.');\n    this.log('');\n    this.log('Options:');\n    this.log('-d, --dist               Path to publish from');\n    this.log('-n, --nopublish          Skips publishing step');\n    this.log('-h, --help               Displays help informations');\n    this.log('');\n    this.log('Bin to publisher:');\n    this.log('npm                      Publish using npm.');\n    this.log('lerna                    Publish using lerna.');\n    this.log('np                       Publish using np.');\n    this.log('');\n    this.log('Examples:');\n    this.log('$ packito');\n    this.log('$ packito -d ./publish');\n    this.log('$ packito -d ./publish np patch');\n  }\n\n  async execute() {\n    this.hrstart = process.hrtime();\n    this.header();\n    const args = minimist(this.args, this.options);\n    if (args.help) {\n      // Display help\n      this.help();\n    } else {\n      // WIP execute\n      const packito = new Packito(args.dist, args.n, args._);\n      await packito.transform();\n      await packito.write();\n      // this.log('args=', args);\n    }\n  }\n}\n/* istanbul ignore next */\nconst start = async (output = console) => {\n  const version = process.versions.node;\n  const major = parseInt(version.split('.')[0], 10);\n\n  if (major < 10) {\n    output.error(`Node version ${version} is not supported, please use Node.js 10.0 or higher.`);\n    process.exit(1);\n  }\n\n  // Grab arguments\n  const [, , ...args] = process.argv;\n  const cli = new PackitoCli(args, output, process.exit);\n  await cli.execute();\n  return cli;\n};\nexport { PackitoCli };\nexport default start;\n","/**\n * Copyright (c) Mik BRY\n * mik@miklabs.com\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport cli from './cli';\n\n(async () => cli())();\n"],"names":["spawn","cli"],"mappings":"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"}